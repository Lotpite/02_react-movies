(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},64:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(23),a=n.n(r),i=(n(57),n(58),n(77)),s=n(74),o=n(78),u=n(6),j=n(79),l=n(48),b=n(73),d=n(14),h=n(1),f=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(h.jsxs)(j.a,{className:"d-flex",children:[Object(h.jsx)(l.a,{id:"search-form",type:"search",placeholder:"Search",className:"me-2","aria-label":"Search",onChange:function(e){r((function(t){return e.target.value}))}}),Object(h.jsx)(d.b,{to:"/search_results/".concat(n),children:Object(h.jsx)(b.a,{variant:"outline-light",onSubmit:function(){document.getElementById("search-form").value=""},children:"Search"})})]})},p=(n(64),function(){return Object(h.jsx)(i.a,{bg:"dark",variant:"dark",expand:"lg",children:Object(h.jsxs)(s.a,{fluid:!0,children:[Object(h.jsx)(i.a.Brand,{children:"Filmzzz"}),Object(h.jsx)(i.a.Toggle,{"aria-controls":"navbarScroll"}),Object(h.jsxs)(i.a.Collapse,{id:"navbarScroll",children:[Object(h.jsxs)(o.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[Object(h.jsx)(d.b,{className:"light",to:"/",children:"Popular"}),Object(h.jsx)(d.b,{className:"light",to:"/favorites",children:"Favorites"})]}),Object(h.jsx)(f,{})]})]})})}),O=n(33),m=n(75),x=n(49),g=n(80),v=n(76),y=n(18),_=n.n(y),k=n(26),S=n(28),w=n(29),N=function(){function e(){var t=this;Object(S.a)(this,e),this._apiKey="052a7bfc73ba8f24b52cbf7c006da253",this._apiBase="https://api.themoviedb.org/3/",this._basePage=1,this.getResource=function(){var e=Object(k.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t,", status: ").concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getFilmByID=function(){var e=Object(k.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("".concat(t._apiBase,"movie/").concat(n,"?api_key=").concat(t._apiKey));case 2:return c=e.sent,e.abrupt("return",t._transcriptFilm(c));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getPopular=Object(k.a)(_.a.mark((function e(){var n,c,r=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:t._basePage,e.next=3,t.getResource("".concat(t._apiBase,"movie/popular?api_key=").concat(t._apiKey,"&language=en-US&page=").concat(n));case 3:return c=e.sent,e.abrupt("return",c.results.map((function(e){return t._transcriptFilm(e)})));case 5:case"end":return e.stop()}}),e)}))),this.getGenres=Object(k.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("".concat(t._apiBase,"genre/movie/list?api_key=").concat(t._apiKey,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.genres);case 4:case"end":return e.stop()}}),e)}))),this.getSearched=function(){var e=Object(k.a)(_.a.mark((function e(n,c){var r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("".concat(t._apiBase,"search/movie?query=").concat(n,"&api_key=").concat(t._apiKey,"&page=").concat(c));case 2:return r=e.sent,e.abrupt("return",r.results.map((function(e){return t._transcriptFilm(e)})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.getDescription=function(){return t.getResource("".concat(t._apiBase,"movie/{movie_id}?api_key=").concat(t._apiKey,"&language=en-US"))},this.getRelated=function(){var e=Object(k.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getResource("".concat(t._apiBase,"movie/").concat(n,"/recommendations?api_key=").concat(t._apiKey,"&language=en-US&").concat(t._basePage));case 2:return c=e.sent,e.abrupt("return",c.results.map((function(e){return t._transcriptFilm(e)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return Object(w.a)(e,[{key:"_transcriptFilm",value:function(e){return{id:e.id,title:e.original_title,genre_ids:e.genre_ids,description:e.overview,poster_path:"https://image.tmdb.org/t/p/w500"+e.poster_path,onLike:!1}}}]),e}(),B=N,I=(n(68),function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)([]),i=Object(u.a)(a,2),o=i[0],j=i[1],l=Object(c.useState)(1),f=Object(u.a)(l,2),p=f[0],y=f[1],_=Object(c.useState)(!1),k=Object(u.a)(_,2),S=k[0],w=k[1],N=new B,I=function(e){j((function(t){return e}))};Object(c.useEffect)((function(){R()}),[]);var R=function(){w((function(e){return!e})),N.getPopular(p).then(E),F()},E=function(e){r((function(t){return[].concat(Object(O.a)(t),Object(O.a)(e))})),y((function(e){return e+1})),w((function(e){return!1}))},F=function(){N.getGenres().then(I)};var C=function(e){var t=e.map((function(e,t){var n=e.genre_ids.map((function(e){return o.forEach((function(t){e===t.id&&(e=t.name)})),Object(h.jsx)(m.a,{bg:"light",text:"dark",children:e},e)}));return Object(h.jsxs)(x.a,{children:[Object(h.jsxs)(g.a,{bg:"light",text:"dark",style:{width:"14rem"},className:"cardList",children:[Object(h.jsx)(d.b,{to:"/film/".concat(e.id),children:Object(h.jsx)(g.a.Img,{variant:"top",src:e.poster_path,alt:e.title})}),Object(h.jsxs)(g.a.Body,{children:[Object(h.jsx)(m.a,{bg:"danger",className:"favor",onClick:function(){return function(e,t,n){localStorage.setItem(e,JSON.stringify(t))}(e.id,e)},children:e.onlike?"Remove":"Add"}),n]})]}),Object(h.jsx)("br",{})]},e.id)}));return Object(h.jsx)(v.a,{children:t})}(n);return Object(h.jsxs)(s.a,{className:"justify-content-md-center",children:[C,Object(h.jsx)(b.a,{variant:"dark",size:"lg",disabled:S,onClick:function(){return R(p)},children:"show more"})]})}),R=n(9),E=(n(69),Object(R.f)((function(e){var t=Object(c.useState)({}),n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(u.a)(i,2),j=o[0],l=o[1],b=Object(c.useState)([]),f=Object(u.a)(b,2),p=f[0],O=f[1],y=new B,_=function(e){a((function(t){return e}))},k=function(e){l((function(t){return e}))};Object(c.useEffect)((function(){S()}),[e.id,r]);var S=function(){var t=e.match.params.id;t&&(y.getFilmByID(t).then(_),w(t),I())},w=function(e){y.getRelated(e).then(k)},N=function(e){O((function(t){return e}))},I=function(){y.getGenres().then(N)};var R=r.title,E=r.description,F=r.poster_path,C=function(e){var t=e.map((function(e,t){var n=e.genre_ids.map((function(e){return p.forEach((function(t){e===t.id&&(e=t.name)})),Object(h.jsx)(m.a,{bg:"light",text:"dark",children:e},e)}));return Object(h.jsxs)(x.a,{children:[Object(h.jsxs)(g.a,{bg:"light",text:"dark",style:{width:"14rem"},className:"cardList",onClick:function(){return S(e.id)},children:[Object(h.jsx)(d.b,{to:"/film/".concat(e.id),children:Object(h.jsx)(g.a.Img,{variant:"top",src:e.poster_path,alt:e.title})}),Object(h.jsxs)(g.a.Body,{children:[Object(h.jsx)(m.a,{bg:"danger",className:"favor",onClick:function(){return function(e,t){localStorage.setItem(e,JSON.stringify(t))}(e.id,e)},children:"Like"}),n]})]}),Object(h.jsx)("br",{})]},e.id)}));return Object(h.jsx)(v.a,{children:t})}(j);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(s.a,{className:"justify-content-md-center",children:Object(h.jsxs)(x.a,{children:[Object(h.jsx)("h3",{children:R}),Object(h.jsxs)("div",{className:"some",children:[Object(h.jsx)(g.a,{bg:"light",text:"dark",style:{width:"14rem"},className:"cardList",children:Object(h.jsx)(g.a.Img,{variant:"top",src:"https://image.tmdb.org/t/p/w500"+F,alt:R})}),Object(h.jsx)("p",{children:E})]}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{})]})}),Object(h.jsxs)(s.a,{className:"justify-content-md-center",children:[Object(h.jsx)("h2",{children:"Recommended Films"}),C]})]})}))),F=Object(R.f)((function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(u.a)(i,2),j=o[0],l=o[1],b=new B;Object(c.useEffect)((function(){f()}),[e.query]);var f=function(){var t=e.match.params.query;_(),y(t)},p=function(e){l((function(t){return e}))},O=function(e){a((function(t){return e}))},y=function(e){b.getSearched(e).then(O)},_=function(){b.getGenres().then(p)};var k=function(e){var t=e.map((function(e,t){var n=e.genre_ids.map((function(e){return j.forEach((function(t){e===t.id&&(e=t.name)})),Object(h.jsx)(m.a,{bg:"light",text:"dark",children:e},e)}));return Object(h.jsxs)(x.a,{children:[Object(h.jsxs)(g.a,{bg:"light",text:"dark",style:{width:"14rem"},className:"cardList",children:[Object(h.jsx)(d.b,{to:"/film/".concat(e.id),children:Object(h.jsx)(g.a.Img,{variant:"top",src:e.poster_path,alt:e.title})}),Object(h.jsxs)(g.a.Body,{children:[Object(h.jsx)(m.a,{bg:"danger",className:"favor",onClick:function(){return function(e,t){localStorage.setItem(e,JSON.stringify(t))}(e.id,e)},children:"Like"}),n]})]}),Object(h.jsx)("br",{})]},e.id)}));return Object(h.jsx)(v.a,{children:t})}(r);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h2",{children:"Search Results"}),Object(h.jsx)(s.a,{children:k})]})})),C=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=(t[0],t[1],Object(c.useState)([])),r=Object(u.a)(n,2),a=r[0],i=r[1],o=new B,j=function(e){i((function(t){return e}))};function l(e){var t=e.title,n=e.poster_path,c=e.id,r=e.genre_ids.map((function(e){return a.forEach((function(t){e===t.id&&(e=t.name)})),Object(h.jsx)(m.a,{bg:"light",text:"dark",children:e},e)}));return Object(h.jsxs)(x.a,{children:[Object(h.jsxs)(g.a,{bg:"light",text:"dark",style:{width:"14rem"},className:"cardList",children:[Object(h.jsx)(d.b,{to:"/film/".concat(c),children:Object(h.jsx)(g.a.Img,{variant:"top",src:n,alt:t})}),Object(h.jsxs)(g.a.Body,{children:[Object(h.jsx)(m.a,{bg:"danger",className:"favor",onClick:function(){return function(e){localStorage.removeItem(e)}(c)},children:"Remove"}),r]})]}),Object(h.jsx)("br",{})]},c)}Object(c.useEffect)((function(){o.getGenres().then(j)}),[Object.values(localStorage)]);var b=[];return Object.values(localStorage).forEach((function(e){"undefined"!=e&&b.push(l(JSON.parse(e)))})),Object(h.jsx)(s.a,{className:"justify-content-md-center",children:Object(h.jsx)(v.a,{children:b})})};var L=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(p,{}),Object(h.jsx)("br",{}),Object(h.jsxs)(R.c,{children:[Object(h.jsx)(R.a,{exact:!0,path:"/",children:Object(h.jsx)(I,{})}),Object(h.jsx)(R.a,{exact:!0,path:"/film/:id",children:Object(h.jsx)(E,{})}),Object(h.jsx)(R.a,{exact:!0,path:"/search_results/:query",children:Object(h.jsx)(F,{})}),Object(h.jsx)(R.a,{exact:!0,path:"/favorites",children:Object(h.jsx)(C,{})})]})]})};n(70);a.a.render(Object(h.jsx)(d.a,{children:Object(h.jsx)(L,{})}),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.4aa4a9e3.chunk.js.map